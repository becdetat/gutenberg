.block-editor-block-toolbar {
	display: flex;
	flex-grow: 1;
	width: 100%;
	overflow: auto; // Allow horizontal scrolling on mobile.
	position: relative;
	height: $block-toolbar-height;

	// Animation
	transition: border-color 0.1s linear, box-shadow 0.1s linear;
	@include reduce-motion("transition");

	// Block UI appearance.
	border: $border-width solid $border-color;
	border-radius: $radius-block-ui;
	background-color: $white;

	@include break-small() {
		// Allow overflow on desktop.
		overflow: inherit;
	}

	// The component is born with a border, but we only need some of them.
	.components-toolbar {
		border: 0;

		// Add a border before item groups to show as separator in the block toolbar.
		// Why not a border after item groups? Because the last item is an invisible inserter,
		// so we can't use last-child to consistenly hide it, and we need round corners.
		border-left: $border-width solid $border-color;

		// IE11 has thick paddings without this.
		line-height: 0;

	}

	// Remove the left-border on the last item in the toolbar.
	> .components-toolbar:first-child,
	> :first-child > .components-toolbar {
		border-left: none;
	}

	// Add a left border and adjust the color for Top Toolbar mode.
	.has-fixed-toolbar & {
		box-shadow: none;
		border-left: $border-width solid $light-gray-500;

		.components-toolbar {
			border-color: $light-gray-500;
		}
	}
}

// Inserter in the toolbar for tabbing into.
.block-editor-block-toolbar__inserter {
	opacity: 0;
	pointer-events: none;
	width: 0;

	&.is-visible {
		width: auto;
		opacity: 1;
		pointer-events: all;
	}
}

.block-editor-block-toolbar__slot {
	// Required for IE11.
	display: inline-block;
	// Fix for toolbar button misalignment on IE11
	line-height: 0;

	// IE11 doesn't read rules inside this query. They are applied only to modern browsers.
	@supports (position: sticky) {
		display: inline-flex;
	}
}
